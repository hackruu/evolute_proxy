# Evolute api parser and proxy
–ü—Ä–æ—Å—Ç–æ–µ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Docker –∏–ª–∏ –±–µ–∑. –°–æ–∑–¥–∞–Ω–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è home assistant.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|----------------|--------------------------------------------------------------------------|
| `CAR_ID`       | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è).           |
| `API_KEY`      | API-–∫–ª—é—á —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.                                              |
| `API_KEY_RW`   | API-–∫–ª—é—á —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –∑–∞–ø–∏—Å—å. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–µ–≤–∞                                            |
| `LISTEN`       | –ê–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å (–æ–±—ã—á–Ω–æ `0.0.0.0`).          |
| `PORT`         | –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å API (–Ω–∞–ø—Ä–∏–º–µ—Ä, `12321`).                |

> ‚ö†Ô∏è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –µ—Å–ª–∏ `CAR_ID` –Ω–µ –∑–∞–¥–∞–Ω –∏–ª–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`SOME_CAR_ID_HASH_CHANGE_ME`).

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker-compose

#####  1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π docker-compose.yml
```bash
nano -w docker-compose.yml
```

##### 2. –°–æ–±–µ—Ä–∏ –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å—Ç–∏:

```bash
docker-compose up --build
```

### üöÄ –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

##### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
apt install python3-requests python3-flask
```

##### 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π run.sh
```bash
nano run.sh
```

##### 3. –ó–∞–ø—É—Å—Ç–∏
```bash
bash run.sh
```

### –ü–æ–¥—Å–æ–≤—ã–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Å–∞–π—Ç–∞

##### 1. –í –≤–µ–±-–≤–µ—Ä—Å–∏–∏ —Å–∞–π—Ç–∞ —ç–≤–æ–ª—é—Ç–∞ –ø–æ–ª—É—á–∏ –¥–≤–∞ —Ç–æ–∫–µ–Ω–∞ –∏ –∑–∞–∫—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—É
##### 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π set_token.sh
```bash
nano set_token.sh
```

##### 3. –ó–∞–ø—É—Å—Ç–∏
```bash
bash set_token.sh
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home assistant

### TODO
#### –ü—Ä–∏–º–µ—Ä –ª–µ–∂–∏—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ home-assistant
